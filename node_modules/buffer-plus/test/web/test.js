doc = document.getElementById('app');

BufferPlus.createSchema('ArrayObject', {
    type: 'array',
    items: {
        type: 'object',
        properties: {
            num1: {type: 'int32le'},
            num2: {type: 'float64be'},
            obj: {
                type: 'object',
                properties: {
                    name: {type: 'string'},
                },
                order: ['name'],
            },
        },
        order: ['num1', 'num2', 'obj'],
    },
});

const items = [
    {num1: 10001, num2: 1.56, obj: {name: 'test1'}},
    {num1: 20001, num2: 2.56, obj: {name: 'test2'}},
    {num1: 30001, num2: 3.56, obj: {name: 'test3'}},
];

bp = BufferPlus.create(128);
bp.writeSchema('ArrayObject', items);
bp.moveTo(0);
result = bp.readSchema('ArrayObject');

doc.innerHTML = 'ArrayObject decoded result:' + JSON.stringify(result);
